unity_3d_image_analyzer
===============

Unity製の 3D 型画像 (映像) 解析ツールです。  
2D Plane 上に表示した画像 (映像) を RGB or HSV の値に分解してヒートマップ表示します。

![sample](/snapshots/description_01.png)


環境
----------------
以下の環境で動作確認済みです。
- Unity 2019.3.7f1

利用アセット 
-----------------
画像 (映像) ファイル読み込みに以下のアセットを使用しています。  
Unity 初回起動後、アセットストアからダウンロードしてください。
- Runtime File Browser (Free)
    - https://github.com/yasirkula/UnitySimpleFileBrowser


※ ファイルを読み込む関係で、現状本ツールは WebGL ビルドには対応していません。


使用方法
-----------------
### 画像の場合
事前に、画面下のチェックボックスにて、表示させる点群の種類を選択します。  
・R, G, B ... 画像ピクセルごとの RGB 情報のうちの R, G, B それぞれの値。  
・H, S, V ... 画像ピクセルごとの HSV 情報のうちの H, S, V それぞれの値。  
・Off の場合、点群は表示されません。  

![](/snapshots/description_02.png)

( ※ 読み込み後の変更は実装されていません。変更したい場合はチェックボックス変更後、再度画像を読み込んでください。)  
  
その後、画面上の「Load」ボタンを押してダイアログを表示し、画像ファイルを選択すると、  
画像ファイルが読み込まれ、同時にチェックボックスで選択した値に注目した点群が表示されます。  
なお、読み込み可能な画像は `.png` と `.jpg` です。

![](/snapshots/description_03.png)

点群の各点は、そのピクセルの値が大きいほど赤く高く、小さいほど青く低く表示されます。

![](/snapshots/result_image.png)


### 映像の場合
事前に、画面上のドロップダウンで読み込む映像サイズを選択します。( 640 x 480, 1280 x 720, 1920 x 1080 )  
( ※ 映像ファイルのサイズが違っていても読み込むことは可能ですが、点群の位置と下部の映像が映る Plane との位置が合わないことがあります。)

![](/snapshots/description_04.png)

その後、画面上の「Load」ボタンを押してダイアログを表示し、映像を選択します。  
選択ダイアログは標準が「Image」になっているので、「All Files」もしくは「Video」を選択した上で映像を選択してください。  
なお、読み込み可能な映像は `.mp4` のみです。

読み込み後、Play ボタンを押すことで動画が再生されます。  
Stop ボタンで一時停止することができます。  

![](/snapshots/description_05.png)
  
動画の場合は、画面下のチェックボックスにて、再生中に注目する情報を切り替えることができます。


TODO
------------------
### 映像再生について
現状、映像再生時の点群表示は非常に重いです。640 x 480 サイズで読み込まないと表示は厳しいと思われます。  
点群の削減等考えられますが、今後の課題です。。
